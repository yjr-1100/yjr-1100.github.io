<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Fluter学习（三） | YJR-1100</title><meta name="keywords" content="Dart"><meta name="author" content="yjr-1100"><meta name="copyright" content="yjr-1100"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="有状态的组件 StatefulWidget之前我们学习的组件都是自定义了一个StatelessWidget组件来进行学习的，但是那样的页面是静态的，不能动态改变，如果我们想要实现点击按钮，让页面上的值进行改变，我们需要用到StatefulWidget组件来实现。这是一个有状态组件，可以刷新页面的状态 比如我们点击按钮，上数字增加   12345678910111213141516171819202">
<meta property="og:type" content="article">
<meta property="og:title" content="Fluter学习（三）">
<meta property="og:url" content="https://yjr-1100.github.io/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/index.html">
<meta property="og:site_name" content="YJR-1100">
<meta property="og:description" content="有状态的组件 StatefulWidget之前我们学习的组件都是自定义了一个StatelessWidget组件来进行学习的，但是那样的页面是静态的，不能动态改变，如果我们想要实现点击按钮，让页面上的值进行改变，我们需要用到StatefulWidget组件来实现。这是一个有状态组件，可以刷新页面的状态 比如我们点击按钮，上数字增加   12345678910111213141516171819202">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png">
<meta property="article:published_time" content="2022-11-12T06:22:44.000Z">
<meta property="article:modified_time" content="2022-11-24T05:43:01.005Z">
<meta property="article:author" content="yjr-1100">
<meta property="article:tag" content="Dart">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://yjr-1100.github.io/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":150},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Fluter学习（三）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-24 13:43:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/mylogol2.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">53</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/background_4k.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">YJR-1100</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Fluter学习（三）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-12T06:22:44.000Z" title="发表于 2022-11-12 14:22:44">2022-11-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-24T05:43:01.005Z" title="更新于 2022-11-24 13:43:01">2022-11-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">移动应用开发</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/Flutter/">Flutter</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Fluter学习（三）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="有状态的组件-StatefulWidget"><a href="#有状态的组件-StatefulWidget" class="headerlink" title="有状态的组件 StatefulWidget"></a>有状态的组件 StatefulWidget</h1><p>之前我们学习的组件都是自定义了一个<strong>StatelessWidget</strong>组件来进行学习的，但是那样的页面是静态的，不能动态改变，如果我们想要实现点击按钮，让页面上的值进行改变，我们需要用到<strong>StatefulWidget</strong>组件来实现。这是一个有状态组件，可以刷新页面的状态</p>
<p>比如我们点击按钮，上数字增加</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211121446059.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">&quot;你好Flutter&quot;</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> MyHomePage()),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyHomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyHomePage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> _count = <span class="number">0</span>;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(mainAxisAlignment: MainAxisAlignment.center, children: [</span><br><span class="line">        Text(</span><br><span class="line">          <span class="string">&quot;<span class="subst">$_count</span>&quot;</span>,</span><br><span class="line">          style: Theme.of(context).textTheme.headline2,</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> SizedBox(</span><br><span class="line">          height: <span class="number">60</span>,</span><br><span class="line">        ),</span><br><span class="line">        ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              setState(() &#123;</span><br><span class="line">                <span class="comment">// 执行setState的时候，会重新build，然后显示页面</span></span><br><span class="line">                _count++;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&quot;增加数据&quot;</span>))</span><br><span class="line">      ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>实现一个动态增加的列表，如下图</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211121457855.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MaterialApp(</span><br><span class="line">    home: MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyHomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyHomePage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _list = [<span class="string">&quot;我是原来的数据&quot;</span>];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        <span class="comment">// 把scaffold放在子组件中，方便用其中的floatingActionButton属性</span></span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">&quot;你好Flutter&quot;</span>)),</span><br><span class="line">        floatingActionButton: FloatingActionButton(</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _list.add(<span class="string">&quot;我是新增数据&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          child: <span class="keyword">const</span> Icon(Icons.add),</span><br><span class="line">        ),</span><br><span class="line">        body: ListView(</span><br><span class="line">          children: _list</span><br><span class="line">              .map((e) =&gt; ListTile(</span><br><span class="line">                    title: Text(e),</span><br><span class="line">                  ))</span><br><span class="line">              .toList(),</span><br><span class="line">        ));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="Scaffold-组件属性"><a href="#Scaffold-组件属性" class="headerlink" title="Scaffold 组件属性"></a>Scaffold 组件属性</h1><h2 id="bottomNavigationBar-自定义底部导航"><a href="#bottomNavigationBar-自定义底部导航" class="headerlink" title="bottomNavigationBar 自定义底部导航"></a>bottomNavigationBar 自定义底部导航</h2><p><code>items</code>  List底部导航条按钮集合<br><code>iconSize</code>  配置菜单大小<br><code>currentlridex</code>  默认选中第几个<br><code>onTap</code>  选中变化回调函数<br><code>fixedColor</code>  选中的颜色<br><code>type</code>  </p>
<ul>
<li><code>BottomNavigationBarType.fixed</code>  如果底部有4个或4个以上的菜单，就要配置这个，否则会被挤掉</li>
<li><code>BottomNavigationBarType.shifting</code></li>
</ul>
<p>下图是点击导航栏切换的演示图</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211121545867.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), Myhome(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="string">&quot;主页&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myhome</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Myhome(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是home页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCategory</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCategory(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是category页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySettings</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySettings(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是Settings页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="floatingActionButton-浮动按钮"><a href="#floatingActionButton-浮动按钮" class="headerlink" title="floatingActionButton  浮动按钮"></a>floatingActionButton  浮动按钮</h2><p>通过floatingActionButton来实现一个导航栏中间突起的圆形按钮，在上面导航栏的代码上直接进行修改，效果入下图</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211121616442.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), Myhome(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="string">&quot;主页&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">      floatingActionButton: Container( <span class="comment">// 浮动的按钮 ，外面包裹一个Container可以改变按钮的大小等</span></span><br><span class="line">        height: <span class="number">60</span>,</span><br><span class="line">        width: <span class="number">60</span>,</span><br><span class="line">        padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">2</span>),</span><br><span class="line">        margin: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">6</span>),</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: Colors.white,</span><br><span class="line">          borderRadius: BorderRadius.circular(<span class="number">30</span>),</span><br><span class="line">        ),</span><br><span class="line">        child: FloatingActionButton(</span><br><span class="line">          backgroundColor: currentindex == <span class="number">1</span> ? Colors.blue : Colors.yellow,</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = <span class="number">1</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          child: <span class="keyword">const</span> Icon(Icons.add),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Drawer侧边栏"><a href="#Drawer侧边栏" class="headerlink" title="Drawer侧边栏"></a>Drawer侧边栏</h2><p>Flutter 中通过 <code>drawer</code> 可以配置左侧侧边栏，<code>endDrawer</code>来配置右侧侧边栏,如果没有设置 <strong>AppBar</strong> 的 <code>leading</code> 属性，则当使用 <strong>Drawer</strong> 的时候会自动显示一个 <strong>IconButton</strong> 来告诉用户有侧边栏（在 Android 上通常是显示为三个横的图标）</p>
<p><strong>Drawer</strong> 组件的属性</p>
<ul>
<li><code>backgroundColor</code> 整个Drawer的背景颜色</li>
<li><code>elevation</code> 设置 z 轴的 elevation,和父容器相关，阴影的部分</li>
<li><code>width</code> 画出来侧边栏的宽度</li>
<li><code>child</code> 子组件</li>
</ul>
<p>在侧边栏<strong>Drawer</strong>组件中，可以在<code>child</code>中放一个<strong>ListView</strong>组件或者<strong>Column</strong>组件来设置自己的布局，我们会在列组件的<code>children</code> 属性中放一个 <strong>DrawerHeader</strong> 组件，设置侧边栏的头部。 我们还有一个 <strong>UerAccountDrawerHeader</strong> 组件，可以快速形成一个个人名片样子的侧边栏头部。</p>
<p><strong>DrawerHeader</strong> 组件的属性</p>
<ul>
<li><code>decoration</code> 设置顶部颜色背景图片等</li>
<li><code>margin</code> 外边距</li>
<li><code>padding</code> 内边距</li>
<li><code>child</code> 子元素</li>
</ul>
<p><strong>UerAccountDrawerHeader</strong> 组件的属性</p>
<ul>
<li><code>decoration</code>  设置顶部背景颜色</li>
<li><code>accountName</code>  账户名称</li>
<li><code>accountEmail</code> 账户邮箱 </li>
<li><code>currentAccountPicture</code>  用户头像</li>
<li><code>otherAccountsPictures</code>  用来设置当前账户其他账户头像</li>
<li><code>onDetailsPressed</code> 点击监听</li>
<li><code>margin</code>  外边距</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211121716660.png" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>


<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), Myhome(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">      drawer: Drawer(</span><br><span class="line">          <span class="comment">// backgroundColor: Colors.black38,</span></span><br><span class="line">          <span class="comment">// elevation: 1,</span></span><br><span class="line">          <span class="comment">// shape: ,</span></span><br><span class="line">          width: <span class="number">300</span>,</span><br><span class="line">          <span class="comment">// shape: const ShapeBorder(),</span></span><br><span class="line">          semanticLabel: <span class="string">&quot;sdfsdfsdfsdf&quot;</span>,</span><br><span class="line">          child: Column(</span><br><span class="line">            children: <span class="keyword">const</span> [</span><br><span class="line">              SizedBox(</span><br><span class="line">                  width: <span class="built_in">double</span>.infinity, <span class="comment">// 外面套一个SizedBox让组件平铺</span></span><br><span class="line">                  child: DrawerHeader(</span><br><span class="line">                      decoration: BoxDecoration(color: Colors.yellow),</span><br><span class="line">                      <span class="comment">// margin: EdgeInsets.all(10),</span></span><br><span class="line">                      duration: <span class="built_in">Duration</span>(seconds: <span class="number">20</span>),</span><br><span class="line">                      child: Text(<span class="string">&quot;头部&quot;</span>)) <span class="comment">// 这里可以写别的组件进行自己的布局</span></span><br><span class="line">                  ),</span><br><span class="line">              ListTile(</span><br><span class="line">                leading: CircleAvatar(child: Icon(Icons.person)),</span><br><span class="line">                title: Text(<span class="string">&quot;个人中心&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Divider(),</span><br><span class="line">              ListTile(</span><br><span class="line">                leading: CircleAvatar(child: Icon(Icons.settings)),</span><br><span class="line">                title: Text(<span class="string">&quot;系统设置&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Divider()</span><br><span class="line">            ],</span><br><span class="line">          )),</span><br><span class="line">      endDrawer: <span class="keyword">const</span> Drawer(child: Text(<span class="string">&quot;右侧侧边栏&quot;</span>)),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="string">&quot;主页&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myhome</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Myhome(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是home页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCategory</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCategory(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是category页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySettings</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySettings(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是Settings页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="AppBar顶部导航栏"><a href="#AppBar顶部导航栏" class="headerlink" title="AppBar顶部导航栏"></a>AppBar顶部导航栏</h2><p><strong>AppBar</strong> 自定义顶部按钮图标、颜色</p>
<p><strong>AppBar</strong> 的一些属性</p>
<p><code>leading</code> 在标题前面显乐的一个控件，在首页通常显示应用的logo;在其他界面通常显示为返回按钮<br><code>title</code>  标题，通常显示为当前界面的标题文字，可以放组件<br><code>actions</code>  通常使用IconButton来表示，可以放按钮组<br><code>backgroundColor</code>  导航背景颜色<br><code>iconTheme</code>  图标样式<br><code>centerTitle</code>  标题是否居中显示<br><code>bottom</code>  通常放tabBar,标题下面显示一个Tab导航栏</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211150816426.png" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        leading: IconButton(</span><br><span class="line">          <span class="comment">// 前面左侧的图标</span></span><br><span class="line">          icon: <span class="keyword">const</span> Icon(Icons.menu),</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;左侧的按钮&quot;</span>);</span><br><span class="line">          &#125;,</span><br><span class="line">        ),</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;顶部导航&quot;</span>), <span class="comment">// 顶部导航显示的标题</span></span><br><span class="line">        backgroundColor: Colors.red, <span class="comment">// 设置背景颜色的红色</span></span><br><span class="line">        actions: [</span><br><span class="line">          <span class="comment">// 右侧的图标，可以有多个</span></span><br><span class="line">          IconButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;右侧的按钮&quot;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.search)),</span><br><span class="line">          IconButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;右侧的按钮&quot;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.more_horiz)),</span><br><span class="line">        ],</span><br><span class="line">        centerTitle: <span class="keyword">true</span>, <span class="comment">// 标题居中显示</span></span><br><span class="line">      ),</span><br><span class="line">      body: Text(<span class="string">&quot;我是主页&quot;</span>),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>AppBar</strong> 配合 <strong>TabBar</strong> 和 <strong>TabBarView</strong> 实现滑动效果</p>
<p><strong>TabBar</strong> 的一些属性</p>
<p><code>tabs</code> 显示的标签内容，一般使用Tab对象，也可以是其它的Widget<br><code>controller</code> TabController对象<br><code>isScrollable</code> 是否可以滚动<br><code>indicatorColor</code> 指示器颜色 ，指示器就是下面那个条条，指示当前选中的是哪一个<br><code>indicatorWeight</code> 指示器高度<br><code>indicatorPadding</code> 底部指示器的Padding<br><code>indicator</code> 指示器decoration，比如边框等<br><code>indicatorSize</code> 指示器大小计算方式，</p>
<ul>
<li><code>TabBarIndicatorSize.label</code> 跟文字等宽</li>
<li><code>TabBarIndicatorSize.tab</code> 跟每个tab等宽<br><code>labelColor</code> 选中label的颜色<br><code>labelStyle</code> 选中label的Style<br><code>labelPadding</code> 每个label的padding值<br><code>unselectedLabelStyle</code> 未选中label的Style<br><code>unselectedLabelStyle</code> 未选中label的Style</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211150849993.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<p>首先我们要在我们的类中 <code>with  SingleTickerProviderStateMixin</code> 然后定义<code>TabController</code> 并指定它的长度<br><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211150853985.png" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/></p>
<p>在这之后，在<strong>AppBar</strong>的 <code>bottom</code> 属性中，传入<strong>TabBar</strong>组件，并在<strong>TabBar</strong>组件中传入刚才定义的<code>TabController</code> ,最后在<strong>Scaffold</strong>的<code>body</code>属性中使用<strong>TabBarView</strong> 组件，也传入刚才定义的 <code>TabController</code> ，并在<code>children</code> 属性中传入想要布局的组件,注意：<strong>TabBar</strong>的<code>tabs</code> 属性和 <strong>TabBarView</strong>的<code>chilidren</code> 属性中的元素个数要和<code>TabController</code> 在定义的时候传入的一样</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> TabController _tabController;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 生命周期函数：当组件初始化的时候就会触发</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _tabController = TabController(length: <span class="number">9</span>, vsync: <span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        leading: IconButton(</span><br><span class="line">          <span class="comment">// 前面左侧的图标</span></span><br><span class="line">          icon: <span class="keyword">const</span> Icon(Icons.menu),</span><br><span class="line">          onPressed: () &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;左侧的按钮&quot;</span>);</span><br><span class="line">          &#125;,</span><br><span class="line">        ),</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;顶部导航&quot;</span>), <span class="comment">// 顶部导航显示的标题</span></span><br><span class="line">        backgroundColor: Colors.red, <span class="comment">// 设置背景颜色的红色</span></span><br><span class="line">        actions: [</span><br><span class="line">          <span class="comment">// 右侧的图标，可以有多个</span></span><br><span class="line">          IconButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;右侧的按钮&quot;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.search)),</span><br><span class="line">          IconButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;右侧的按钮&quot;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.more_horiz)),</span><br><span class="line">        ],</span><br><span class="line">        centerTitle: <span class="keyword">true</span>, <span class="comment">// 标题居中显示</span></span><br><span class="line">        bottom: TabBar(</span><br><span class="line">            controller: _tabController,</span><br><span class="line">            isScrollable: <span class="keyword">true</span>, <span class="comment">// 可以滚动,</span></span><br><span class="line">            indicatorColor: Colors.white, <span class="comment">// 指示器颜色</span></span><br><span class="line">            indicatorWeight: <span class="number">2</span>, <span class="comment">// 指示器高度</span></span><br><span class="line">            indicatorPadding:</span><br><span class="line">                <span class="keyword">const</span> EdgeInsets.all(<span class="number">5</span>), <span class="comment">// 指示器和上下左右的间距都是5，视觉效果就是浮在空中</span></span><br><span class="line">            indicatorSize: TabBarIndicatorSize.label, <span class="comment">// 指示器和文字等宽</span></span><br><span class="line">            labelColor: Colors.yellow,</span><br><span class="line">            unselectedLabelColor: Colors.white,</span><br><span class="line">            labelStyle: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">15</span>),</span><br><span class="line">            unselectedLabelStyle: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">12</span>),</span><br><span class="line">            tabs: <span class="keyword">const</span> [</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;关注&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;热门&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;视频&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;关注&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;热门&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;视频&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;关注&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;热门&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              Tab(</span><br><span class="line">                child: Text(<span class="string">&quot;视频&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">            ]),</span><br><span class="line">      ),</span><br><span class="line">      body: TabBarView(controller: _tabController, children: [</span><br><span class="line">        Container(</span><br><span class="line">          child: ListView(</span><br><span class="line">            children: <span class="keyword">const</span> [</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注container列表&quot;</span>),</span><br><span class="line">              )</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是视频列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是热门列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是关注列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是视频列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是热门列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是关注列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是视频列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是热门列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>在有底部导航栏的页面加载顶部导航栏，只需要在body挂在的页面中也使用<strong>Scaffold</strong>组件就好了,在下面的代码中，我们还实现了获取点击的index，实际开发时，可以用这个index请求不同的数据，并且封装一个 <strong>keepAliveWrapper</strong> 用来缓存页面当前的状态。</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211150959982.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*封装的 KeepAliveWrapper 组件*/</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KeepAliveWrapper</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> KeepAliveWrapper(</span><br><span class="line">      &#123;<span class="keyword">super</span>.key, <span class="meta">@required</span> <span class="keyword">this</span>.child, <span class="keyword">this</span>.keepAlive = <span class="keyword">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> Widget? child;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">bool</span> keepAlive;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;KeepAliveWrapper&gt; createState() =&gt; _KeepAliveWrapperState();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_KeepAliveWrapperState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">KeepAliveWrapper</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="title">with</span> <span class="title">AutomaticKeepAliveClientMixin</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> widget.child!;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; widget.keepAlive;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> didUpdateWidget(<span class="keyword">covariant</span> KeepAliveWrapper oldWidget) &#123;</span><br><span class="line">    <span class="comment">// keepAlive 状态药更新，实现在AutomatickKeepAliveClientMixin中</span></span><br><span class="line">    <span class="keyword">if</span> (oldWidget.keepAlive != widget.keepAlive) &#123;</span><br><span class="line">      updateKeepAlive();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">super</span>.didUpdateWidget(oldWidget);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">dynamic</span> noSuchMethod(Invocation invocation) =&gt; <span class="keyword">super</span>.noSuchMethod(invocation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./keepAliveWrapper.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), Myhome(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">        backgroundColor: Colors.red,</span><br><span class="line">      ),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="string">&quot;主页&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myhome</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Myhome(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Myhome&gt; createState() =&gt; _MyhomeState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyhomeState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Myhome</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> TabController _tabController;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _tabController = TabController(length: <span class="number">3</span>, vsync: <span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// _tabController.addListener(() &#123;</span></span><br><span class="line">    <span class="comment">//   if (_tabController.animation!.value == _tabController.index) &#123;</span></span><br><span class="line">    <span class="comment">//     print(_tabController.index); // 得到索引我们就可以通过这个索引来请求对于的数据</span></span><br><span class="line">    <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">// &#125;); // 添加一个监听，可以获取到对应的索引值</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 组件销毁的时候触发</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement dispose</span></span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">    _tabController.dispose();</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;销毁了&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: PreferredSize(</span><br><span class="line">        preferredSize: <span class="keyword">const</span> Size.fromHeight(<span class="number">40</span>), <span class="comment">// 可以配置appbar的高度</span></span><br><span class="line">        child: AppBar(</span><br><span class="line">          elevation: <span class="number">1</span>, <span class="comment">// 底部阴影的宽度</span></span><br><span class="line">          title: SizedBox(</span><br><span class="line">            <span class="comment">// 套一个SizedBox 可以设置TabBar的高度</span></span><br><span class="line">            height: <span class="number">40</span>,</span><br><span class="line">            child: TabBar(</span><br><span class="line">                controller: _tabController,</span><br><span class="line">                indicatorColor: Colors.red,</span><br><span class="line">                labelStyle: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">15</span>),</span><br><span class="line">                labelColor: Colors.red,</span><br><span class="line">                unselectedLabelColor: Colors.black,</span><br><span class="line">                unselectedLabelStyle: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">12</span>),</span><br><span class="line">                onTap: (index) &#123;</span><br><span class="line">                  <span class="comment">// 只能监听点击事件，不能监听滑动事件</span></span><br><span class="line">                  <span class="built_in">print</span>(index);</span><br><span class="line">                &#125;,</span><br><span class="line">                tabs: <span class="keyword">const</span> [</span><br><span class="line">                  Tab(</span><br><span class="line">                    child: Text(<span class="string">&quot;关注&quot;</span>),</span><br><span class="line">                  ),</span><br><span class="line">                  Tab(</span><br><span class="line">                    child: Text(<span class="string">&quot;热门&quot;</span>),</span><br><span class="line">                  ),</span><br><span class="line">                  Tab(</span><br><span class="line">                    child: Text(<span class="string">&quot;视频&quot;</span>),</span><br><span class="line">                  ),</span><br><span class="line">                ]),</span><br><span class="line">          ), <span class="comment">// 顶部导航显示的标题</span></span><br><span class="line">          backgroundColor: Colors.white, <span class="comment">// 设置背景颜色的红色</span></span><br><span class="line">          centerTitle: <span class="keyword">true</span>, <span class="comment">// 标题居中显示</span></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: TabBarView(controller: _tabController, children: [</span><br><span class="line">        KeepAliveWrapper(</span><br><span class="line">          child: ListView(</span><br><span class="line">            children: <span class="keyword">const</span> [</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关rntainer列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我1ntai3表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是2ontainer列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注contterhhh表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注container列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注2iner列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注contai123ner列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注c12列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注2iner列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注contai123ner列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">              ListTile(</span><br><span class="line">                title: Text(<span class="string">&quot;我是关注c12列表&quot;</span>),</span><br><span class="line">              ),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是热门列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: Text(<span class="string">&quot;我是关注列表&quot;</span>),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCategory</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCategory(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是category页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySettings</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySettings(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是Settings页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="Flutter-中的路由"><a href="#Flutter-中的路由" class="headerlink" title="Flutter 中的路由"></a>Flutter 中的路由</h1><p>Flutter中的路由通俗的讲就是页面跳转。在Flutter中通过<strong>Navigator</strong>组件管理路由导航并提供了管理堆栈的方法。如：<code>Navigator.push</code>和<code>Navigator.pop</code> 。Flutter中给我们提供了两种配置路由跳转的方式：1、基本路由2、命名路由</p>
<h2 id="普通路由的使用"><a href="#普通路由的使用" class="headerlink" title="普通路由的使用"></a>普通路由的使用</h2><p>在主页定义一个按钮，点击后跳转到别的页面并传值，然后在其它页面中点击返回</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211151039428.gif" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Formpage*/</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接受传过来的参数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FormPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> title;</span><br><span class="line">  <span class="keyword">const</span> FormPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.title&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;FormPage&gt; createState() =&gt; _FormPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_FormPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">FormPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(widget.title); <span class="comment">// 这就是获取到上面的属性</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: () =&gt; Navigator.pop(context), <span class="comment">// 返回上一页</span></span><br><span class="line">        child: <span class="keyword">const</span> Icon(Icons.home),</span><br><span class="line">      ),</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(widget.title), <span class="comment">// 获取属性</span></span><br><span class="line">      ),</span><br><span class="line">      body: <span class="keyword">const</span> Center(child: Text(<span class="string">&quot;我是表单页面&quot;</span>)),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*SearchPage*/</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> SearchPage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;SearchPage&gt; createState() =&gt; _SearchPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_SearchPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">SearchPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;搜索页面标题&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: <span class="keyword">const</span> Center(</span><br><span class="line">        child: Text(<span class="string">&quot;搜索页面&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./search.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./form.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">    title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">    theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">    home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">        backgroundColor: Colors.red,</span><br><span class="line">      ),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCategory</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCategory(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是category页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySettings</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySettings(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        children: [</span><br><span class="line">          ElevatedButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context)</span><br><span class="line">                    .push(MaterialPageRoute(builder: (BuildContext context) &#123;</span><br><span class="line">                  <span class="keyword">return</span> <span class="keyword">const</span> SearchPage();</span><br><span class="line">                &#125;));</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">&quot;点击搜索&quot;</span>)),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context)</span><br><span class="line">                    .push(MaterialPageRoute(builder: (BuildContext context) &#123;</span><br><span class="line">                  <span class="keyword">return</span> <span class="keyword">const</span> FormPage(title: <span class="string">&quot;传过来的值呀&quot;</span>);</span><br><span class="line">                &#125;));</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">&quot;点击到表单&quot;</span>))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h2><p>为了方便管理我们的路由，我们还可以使用命名路由</p>
<p>首先在main.dart 中将我们的页面全部引入，然后在<strong>MaterialApp</strong> 组件中有一个<code>routes</code> 属性，在这里面配置路由的名称，最后再使用就好了</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*search*/</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map</span> arguments;</span><br><span class="line">  <span class="keyword">const</span> SearchPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.arguments&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;SearchPage&gt; createState() =&gt; _SearchPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_SearchPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">SearchPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(widget.arguments);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;搜索页面标题&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: <span class="keyword">const</span> Center(</span><br><span class="line">        child: Text(<span class="string">&quot;搜索页面&quot;</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./search.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line">  <span class="comment">// 配置路由</span></span><br><span class="line">  <span class="built_in">Map</span> routes = &#123;</span><br><span class="line">    <span class="string">&#x27;/&#x27;</span>: (context) =&gt; <span class="keyword">const</span> Tabs(),</span><br><span class="line">    <span class="string">&#x27;/search&#x27;</span>: (context, &#123;arguments&#125;) =&gt; SearchPage(</span><br><span class="line">          <span class="comment">// 这里要和那边接受的名字一样</span></span><br><span class="line">          arguments: arguments,</span><br><span class="line">        )</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">      <span class="comment">// home: const MyHomePage(),</span></span><br><span class="line">      initialRoute: <span class="string">&quot;/&quot;</span>, <span class="comment">// 刚开始要加载的路由</span></span><br><span class="line">      <span class="comment">/// <span class="language-markdown">配置onGenerateRoute</span></span></span><br><span class="line">      onGenerateRoute: (RouteSettings settings) &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="built_in">String?</span> name = settings.name; <span class="comment">// 获取命名路由的名称</span></span><br><span class="line">        <span class="keyword">final</span> <span class="built_in">Function?</span> pageContentBuilder =</span><br><span class="line">            routes[name]; <span class="comment">// 把上面map中的function拿过来</span></span><br><span class="line">        <span class="keyword">if</span> (pageContentBuilder != <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (settings.arguments != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">final</span> Route route = MaterialPageRoute(</span><br><span class="line">                builder: (context) =&gt;</span><br><span class="line">                    pageContentBuilder(context, arguments: settings.arguments));</span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">final</span> Route route = MaterialPageRoute(</span><br><span class="line">                builder: (context) =&gt; pageContentBuilder(context));</span><br><span class="line">            <span class="keyword">return</span> route;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> currentindex = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;Widget&gt; _pages = <span class="keyword">const</span> [MyCategory(), MySettings()];</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">        backgroundColor: Colors.red,</span><br><span class="line">      ),</span><br><span class="line">      body: _pages[currentindex],</span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          onTap: (index) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              currentindex = index;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          currentIndex: currentindex,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">&quot;分类&quot;</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">&quot;设置&quot;</span>),</span><br><span class="line">          ]),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCategory</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCategory(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">&quot;这个是category页面&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySettings</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySettings(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        children: [</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () =&gt;</span><br><span class="line">                Navigator.pushNamed(context, <span class="string">&#x27;/search&#x27;</span>, arguments: &#123;</span><br><span class="line">              <span class="string">&quot;name&quot;</span>: <span class="string">&quot;sdfsdf&quot;</span>,</span><br><span class="line">              <span class="string">&quot;chuan&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            &#125;),</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&quot;命名路由search&quot;</span>),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Flutter返回上一级路由"><a href="#Flutter返回上一级路由" class="headerlink" title="Flutter返回上一级路由"></a>Flutter返回上一级路由</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure>

<h2 id="Flutter中替换路由"><a href="#Flutter中替换路由" class="headerlink" title="Flutter中替换路由"></a>Flutter中替换路由</h2><p>比如我们从用户中心页面跳转到了registerFirst页面，然后从registerFirst页面通过<code>pushReplacementNamed</code>跳转到了registerSecond页面。这个时候当我们点击registerSecond的返回按钮的时候它会直接返回到用户中心。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pushReplacementNamed(<span class="string">&#x27;/registersecond&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Flutter返回到根路由"><a href="#Flutter返回到根路由" class="headerlink" title="Flutter返回到根路由"></a>Flutter返回到根路由</h2><p>比如我们从用户中心跳转到registerFirsti顷面，然后从registerFirsti顷面跳转到registerSecond页面，然后从registerSecond跳转到了registerThird页面。这个时候我们想的是registerThird注册成功后返回到用户中心。这个时候就用到了返回到根路由的方法。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pushAndRemoveUntil(</span><br><span class="line">  MaterialPageRoute(builder:(BuildContext context)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Tabs(); <span class="comment">// 这个是根组件</span></span><br><span class="line">  &#125;)/MaterialPageRoute</span><br><span class="line">(route)=<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>

<h2 id="同样风格的路由跳转"><a href="#同样风格的路由跳转" class="headerlink" title="同样风格的路由跳转"></a>同样风格的路由跳转</h2><p>Material组件库中提供了一个<strong>MaterialPageRoute</strong>组件，它可以使用和平台风格一致的路由切换动画，如在iOS上会左右滑动切换，而在Android上会上下滑动切换，<strong>CupertinoPageRoute</strong>是Cupertino组件库提供的iOS风格的路由切换组件如果在Android上也想使用左右切换风格，可以使用<strong>CupertinoPageRoute</strong>.</p>
<ol>
<li>引入 <code>import &#39;package:flutter/cupertino.dart&#39;</code></li>
<li><strong>MaterialPageRoute</strong>改为<strong>CupertinoPageRoute</strong></li>
</ol>
<h1 id="全局配置主题"><a href="#全局配置主题" class="headerlink" title="全局配置主题"></a>全局配置主题</h1><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> MaterialApp(</span><br><span class="line">  debugshowcheckedModeBanner:<span class="keyword">false</span>,</span><br><span class="line">  title:<span class="string">&#x27;Flutter Demo&#x27;</span>,</span><br><span class="line">  theme:ThemeData(</span><br><span class="line">    primaryswatch:Colors.blue,</span><br><span class="line">    appBarTheme:<span class="keyword">const</span> AppBarTheme(</span><br><span class="line">        centerTitle:<span class="keyword">true</span>, <span class="comment">// 所有的标题都在中间</span></span><br><span class="line">      )</span><br><span class="line">    ),</span><br><span class="line">  initialRoute:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">  onGenerateRoute:onGenerateRoute,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h1 id="Dialog组件"><a href="#Dialog组件" class="headerlink" title="Dialog组件"></a>Dialog组件</h1><h2 id="警告弹窗"><a href="#警告弹窗" class="headerlink" title="警告弹窗"></a>警告弹窗</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _alertDialog() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(context:context,builder:(context)&#123;</span><br><span class="line">    <span class="keyword">return</span> AlertDialog( <span class="comment">// 警告弹窗</span></span><br><span class="line">      title:<span class="keyword">const</span> Text(<span class="string">&quot;提示信息！&quot;</span>),</span><br><span class="line">      content:<span class="keyword">const</span> Text(<span class="string">&quot;您确定要删除吗&quot;</span>),</span><br><span class="line">      actions:[</span><br><span class="line">        TextButton(onPressed:()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">            Navigator.of(context).pop(<span class="string">&quot;ok&quot;</span>);<span class="comment">//点击按钮让AlertDialog消失</span></span><br><span class="line">          &#125;,child:<span class="keyword">const</span> Text(<span class="string">&quot;确定&quot;</span>)),<span class="comment">//TextButton</span></span><br><span class="line">        TextButton(onPressed:()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;cancel&quot;</span>);</span><br><span class="line">            Navigator.of(context).pop(<span class="string">&quot;取消&quot;</span>); <span class="comment">//这里传入的值是返回给result的</span></span><br><span class="line">          &#125;,child:<span class="keyword">const</span> Text(<span class="string">&quot;取消&quot;</span>))</span><br><span class="line">      ],</span><br><span class="line">    )</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(result); <span class="comment">// 获取点击的是哪个按钮</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="选择框"><a href="#选择框" class="headerlink" title="选择框"></a>选择框</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _simpleDialog() <span class="keyword">async</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(context:context,builder:(context)&#123;</span><br><span class="line">    <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">      barrierDismissible:<span class="keyword">false</span>, <span class="comment">//点击灰色背景这个框会不会消失</span></span><br><span class="line">      title:Text(<span class="string">&quot;请求选择语言&quot;</span>)</span><br><span class="line">      children:[</span><br><span class="line">        SimpleDialogOption(</span><br><span class="line">          onPressed:()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;汉语&quot;</span>);</span><br><span class="line">            Navigator.of(context).pop(<span class="string">&quot;汉语&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          child:Text(<span class="string">&quot;汉语&quot;</span>),</span><br><span class="line">        ),</span><br><span class="line">        SimpleDialogOption(</span><br><span class="line">          onPressed:()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;英语&quot;</span>);</span><br><span class="line">            Navigator.of(context).pop(<span class="string">&quot;英语&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          child:Text(<span class="string">&quot;英语&quot;</span>),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="底部弹窗"><a href="#底部弹窗" class="headerlink" title="底部弹窗"></a>底部弹窗</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _modelBottomSheet() <span class="keyword">async</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> showModalBottomSheet(context:context,builder:(context)&#123;</span><br><span class="line">    <span class="keyword">return</span> Container( <span class="comment">// 这里就可以自己定义一些布局</span></span><br><span class="line">      child:Column(</span><br><span class="line">        childre:[</span><br><span class="line">          ListTile(</span><br><span class="line">            title:Text(<span class="string">&quot;分享&quot;</span>);</span><br><span class="line">            onTap:()&#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&quot;分享&quot;</span>);</span><br><span class="line">              Navigator.of(context).pop(<span class="string">&quot;分享&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          ),</span><br><span class="line">          ListTile(</span><br><span class="line">            title:Text(<span class="string">&quot;收藏&quot;</span>);</span><br><span class="line">            onTap:()&#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&quot;收藏&quot;</span>);</span><br><span class="line">              Navigator.of(context).pop(<span class="string">&quot;收藏&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          ),</span><br><span class="line">        ]</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">print</span>(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="fluttertoast-提示信息"><a href="#fluttertoast-提示信息" class="headerlink" title="fluttertoast 提示信息"></a>fluttertoast 提示信息</h2><p>这个是第三方库，我们可以去官网进行安装使用</p>
<img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211151530674.png" style="box-shadow: 5px 5px 10px #9da0de;border-radius:10px; margin:15px auto"/>

<p>在<code>pubspec.yaml</code> 文件中配置插件后，运行 <code>flutter pub get</code> 命令就可以进行下载</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:fluttertoast/fluttertoast.dart&#x27;</span>; <span class="comment">// 引入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> _toast()&#123;</span><br><span class="line">  Fluttertoast.showToast(</span><br><span class="line">    msg:<span class="string">&quot;This is Center Short Toast&quot;</span>,</span><br><span class="line">    toastLength:Toast.LENGTH_SHORT,</span><br><span class="line">    gravity:ToastGravity.CENTER, <span class="comment">// 显示的位置</span></span><br><span class="line">    timeInSecForIosWeb:<span class="number">1</span>, <span class="comment">// 提示的时间，这个针对 ios，</span></span><br><span class="line">    toastLength:Toast.LENGTH_SHORT, <span class="comment">//　android 中这个可以配置显示的时间长短</span></span><br><span class="line">    backgroundColor:Colors.red, <span class="comment">// 背景颜色</span></span><br><span class="line">    textColor:Colors.white, <span class="comment">// 字体颜色</span></span><br><span class="line">    fontsize:<span class="number">16.0</span> <span class="comment">// 字体大小</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="自定义Dialog"><a href="#自定义Dialog" class="headerlink" title="自定义Dialog"></a>自定义Dialog</h2><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDialog</span> <span class="keyword">extends</span> <span class="title">Dialog</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> title;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> content;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function?</span> onTap;</span><br><span class="line">  <span class="keyword">const</span> MyDialog(&#123;key?key,<span class="keyword">required</span> <span class="keyword">this</span>.title,<span class="keyword">required</span> <span class="keyword">this</span>.content,<span class="keyword">required</span> <span class="keyword">this</span>.onTap&#125;):<span class="keyword">super</span>(key:key);</span><br><span class="line">  Widget build(BuildContext context)&#123;</span><br><span class="line">    <span class="keyword">return</span> Material(</span><br><span class="line">      type:MaterialType.transparency,<span class="comment">// 设置背景透明</span></span><br><span class="line">      child:Center( <span class="comment">// 包裹一个center组件，不然会全屏</span></span><br><span class="line">          child:Container(</span><br><span class="line">            height:<span class="number">300</span>,</span><br><span class="line">            width:<span class="number">300</span>,</span><br><span class="line">            color:Colors.white,</span><br><span class="line">            child:Column(</span><br><span class="line">              children:[</span><br><span class="line">                Padding(</span><br><span class="line">                  padding:<span class="keyword">const</span> EdgInsets.all(<span class="number">5</span>),</span><br><span class="line">                  child:Stack(</span><br><span class="line">                    children:[</span><br><span class="line">                      Align(</span><br><span class="line">                        alignment:Alignment.centerLeft,</span><br><span class="line">                        child:Text(<span class="keyword">this</span>.title),</span><br><span class="line">                      ),</span><br><span class="line">                      Align(</span><br><span class="line">                        alignment:Alignment.centerLeft,</span><br><span class="line">                        child:InkWell(<span class="comment">// flutter中专门让点击的事件</span></span><br><span class="line">                          onTap:onTap,</span><br><span class="line">                          child:Icon(Icons.close),</span><br><span class="line">                        ),</span><br><span class="line">                      ),</span><br><span class="line">                    ]</span><br><span class="line">                  )</span><br><span class="line">                ),</span><br><span class="line">                Divider(),</span><br><span class="line">                Container(</span><br><span class="line">                  width:<span class="built_in">double</span>.infinity,</span><br><span class="line">                  child:Text(<span class="keyword">this</span>.content),</span><br><span class="line">                )</span><br><span class="line">              ]</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> _myDialog()&#123;</span><br><span class="line">  showDialog(context:context,builder:(context)&#123;</span><br><span class="line">    <span class="keyword">return</span> MyDialog(title:<span class="string">&quot;提示&quot;</span>,content:<span class="string">&quot;我是内容&quot;</span></span><br><span class="line">    onTap:()&#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;点了&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="PageView组件"><a href="#PageView组件" class="headerlink" title="PageView组件"></a>PageView组件</h1><p>通过PageView组件可以实现类似于抖音的上下滑动切换的功能</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">PageView(</span><br><span class="line">  scrollDirection:Axis.vertical<span class="comment">// 配置滑动的方向</span></span><br><span class="line">  onPageChanged:(index)&#123;<span class="comment">// 切换页面的时候触发的方式</span></span><br><span class="line">    <span class="comment">//通过比较index 和children的长度，我们可以提前获取数据，然后实现了懒加载的效果</span></span><br><span class="line">  &#125;</span><br><span class="line">  children:[ <span class="comment">// children里面每一个都是一个页面</span></span><br><span class="line">    Center(</span><br><span class="line">      child:Text(<span class="string">&quot;第一个&quot;</span>)</span><br><span class="line">    ),</span><br><span class="line">    Center(</span><br><span class="line">      child:Text(<span class="string">&quot;第二个&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>我们也可以使用 <code>PaveView.builder</code> 来生成我们的<strong>PageView</strong>，在<strong>PaveView</strong>外套一个<strong>SizedBox</strong>来控制高度</p>
<p>给组件<code>with AutomaticKeepAliveClientMixin</code> 并重写 <code>wantKeepAlive</code> 函数返回true缓存页面</p>
<h1 id="Flutter-中的-Key"><a href="#Flutter-中的-Key" class="headerlink" title="Flutter 中的 Key"></a>Flutter 中的 Key</h1><p>我们平时一定接触过很多的Widget,比如<strong>Container</strong>、<strong>Row</strong>、<strong>Column</strong>等，它们在我们绘制界面的过程中发挥着重要的作用。但是不知道你有没有注意到，在几乎每个Widget的构造函数中，都有一个共同的参数，它们通常在参数列表的第一个，那就是Key,在Flutter中，Key是不能重复使用的，所以Key一般用来做唯一标识。组件在更新的时候，其<strong>状态的保存主要是通过判断组件的类型或者key值是否一致</strong>。因此，当各组件的类型不同的时候，类型已经足够用来区分不同的组件了，此时我们可以不必使用key。但是如果同时存在多个同一类型的控件的时候，此时类型已经无法作为区分的条件了，我们就需要使用到key。</p>
<p><strong>Flutter key</strong>子类包含<strong>LocalKey</strong>和<strong>GlobalKey</strong>.</p>
<ul>
<li>局部键(LocalKey):ValueKey、ObjectKey、UniqueKey<ul>
<li>UniqueKey,唯一值，每次运行的时候会随机生成</li>
<li>ValueKey,指定一个数作为key</li>
</ul>
</li>
<li>全局键(GlobalKey):GlobalKey、GlobalObjectKey<ul>
<li>通过<code>globalKey.currentState</code> 可以获取到该元素的状态</li>
</ul>
</li>
</ul>
<h1 id="AnimatedList"><a href="#AnimatedList" class="headerlink" title="AnimatedList"></a>AnimatedList</h1><p>AnimatedList和ListView的功能大体相似，不同的是，AnimatedList可以在列表中插入或删除节点<br>时执行一个动画，在需要添加或删除列表项的场景中会提高用户体验。</p>
<p>AnimatedList是一个StatefulWidget,它对应的State类型为AnimatedListState,添加和删除元素的<br>方法位于AnimatedListState中：</p>
<ul>
<li>void insertItem()</li>
<li>void removeItem()<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; list = [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>];</span><br><span class="line">_globalKey = GlobalKey&lt;AnimatedListState&gt;();</span><br><span class="line">list.add(<span class="string">&quot;新增一条数据&quot;</span>);</span><br><span class="line">_globalKey.currentState!.insertItem(list.length<span class="number">-1</span>);</span><br><span class="line">_globalKey.currentState!.removeItem(index,(context,animation)&#123;</span><br><span class="line">  <span class="keyword">var</span> removeItem = list[index];</span><br><span class="line">  list.removeAt(index);</span><br><span class="line">  <span class="keyword">return</span> FadeTransition(</span><br><span class="line">    opacity:animation,</span><br><span class="line">    child:removeItem,<span class="comment">// 执行动画的元素</span></span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br><span class="line">AnimatedList(</span><br><span class="line">  key:_globalKey,</span><br><span class="line">  initialItemCount:list.length,</span><br><span class="line">  itemBuilder:((context,index,animation)&#123;</span><br><span class="line">    <span class="keyword">return</span> FadeTransition(</span><br><span class="line">      opacity:animation,</span><br><span class="line">      child:ListTile(</span><br><span class="line">        title:Text(list[index]),</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动画执行需要时间，如果没有执行完成再次点击可能有报错，我们可以设置锁来解决</span></span><br><span class="line"><span class="built_in">bool</span> flag = <span class="keyword">true</span></span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line">  flag = <span class="keyword">false</span>;</span><br><span class="line">  <span class="comment">// 执行动画</span></span><br><span class="line">  <span class="comment">// 设置定时器执行完成后释放锁</span></span><br><span class="line">  Timer.peridic(<span class="built_in">Duration</span>(millisecondes:<span class="number">500</span>),(timer)&#123;</span><br><span class="line">    flag = <span class="keyword">true</span>;</span><br><span class="line">    timer.cancel();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Flutter动画"><a href="#Flutter动画" class="headerlink" title="Flutter动画"></a>Flutter动画</h1><h2 id="动画基本原理及Flutter动画简介"><a href="#动画基本原理及Flutter动画简介" class="headerlink" title="动画基本原理及Flutter动画简介"></a>动画基本原理及Flutter动画简介</h2><p><strong>动画原理</strong><br>在任何系统的UI框架中，动画实现的原理都是相同的，即：在一段时间内，快速地多次改变UI外观；由于人眼会产生视觉暂留，所以最终看到的就是一个“连续的动画，这和电影的原理是一样的。我们将UI的一次改变称为一个动画帧，对应一次屏幕刷新，而决定动画流畅度的一个重要指标就是帧率FPS(Frame Per Second),即每秒的动画帧数。很明显，帧率越高则动画就会越流畅！一般情况下，对于人眼来说，动画帧率超过16FPS,就基本能看了，超过32FPS就会感觉相对平滑，而超过32FPS,大多数人基本上就感受不到差别了。由于动画的每一帧都是要改变UI输出，所以在一个时间段内连续的改变UI输出是比较耗资源的，对设备的软硬件系统要求都较高，所以在UI系统中，动画的平均帧率是重要的性能指标，而在Flutter中，理想情况下是可以实现60FPS的，这和原生应用能达到的帧率是基本是持平的。</p>
<p><strong>Flutteri动画简介</strong><br>FLutter中的动画主要分为：<strong>隐式动画</strong>、<strong>显式动画</strong>、<strong>自定义隐式动画</strong>、<strong>自定义显式动画</strong>、和<strong>Hero动画</strong></p>
<h2 id="隐式动画"><a href="#隐式动画" class="headerlink" title="隐式动画"></a>隐式动画</h2><p>通过几行代码就可以实现隐式动画，由于隐式动画背后的实现原理和繁琐的操作细节都被隐去了，所以叫隐式动画，FLutter中提供的<strong>AnimatedContainer</strong>、<strong>AnimatedPadding</strong>、<strong>AnimatedPositioned</strong>、<strong>AnimatedOpacity</strong>、<strong>AnimatedDefaultTextStyle</strong>、<strong>AnimatedSwitcher</strong>都属于隐式动画，隐式动画中可以通过<code>duration</code>配置动画时长、可以通过Curve（曲线）来配置动画过程</p>
<p>这几个组件其实就是对应的<strong>Container</strong>、<strong>Padding</strong>、<strong>Positioned</strong>、<strong>Opacity</strong>等组件的有动画版本，即正常我们改变形状是瞬间改变，这些组件会有一个改变的过程</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      title: <span class="string">&quot;Flutter Demo&quot;</span>,</span><br><span class="line">      theme: ThemeData(primaryColor: Colors.blue),</span><br><span class="line">      home: <span class="keyword">const</span> Tabs(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> Tabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Tabs&gt; createState() =&gt; _TabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Tabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">true</span>;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      floatingActionButton: FloatingActionButton(onPressed: () &#123;</span><br><span class="line">        setState(() &#123;</span><br><span class="line">          flag = !flag;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;),</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&quot;Flutter App&quot;</span>),</span><br><span class="line">        backgroundColor: Colors.red,</span><br><span class="line">      ),</span><br><span class="line">      body: Center(</span><br><span class="line">          child: AnimatedContainer(</span><br><span class="line">        duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>),</span><br><span class="line">        height: flag ? <span class="number">200</span> : <span class="number">300</span>,</span><br><span class="line">        width: flag ? <span class="number">200</span> : <span class="number">300</span>,</span><br><span class="line">        color: Colors.yellow,</span><br><span class="line">      )),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Hero动画"><a href="#Hero动画" class="headerlink" title="Hero动画"></a>Hero动画</h2><p>微信朋友圈点击小图片的时候会有一个动画效果到大图预览，这个动画效果就可以使用Hro动画实现。Hero指的是可以在路由（页面）之间飞行”的widget,简单来说Hero动画就是在路由切换时，有一个共享的widget可以在新旧路由间切换。</p>
<p>使用photo_view 可以预览图片</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:photo_view/photo_view.dart&#x27;</span> <span class="comment">// 预览单张图片</span></span><br></pre></td></tr></table></figure>

<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:photo_view/photo_view_gallery.dart&#x27;</span> <span class="comment">// 预览多张图片</span></span><br></pre></td></tr></table></figure>

<h1 id="Flutter-Getx"><a href="#Flutter-Getx" class="headerlink" title="Flutter Getx"></a>Flutter Getx</h1><h2 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h2><p>通俗的讲：当我们想在多个页面(组件Widget)之间共享状态（数据），或者一个页面（组件Widget)中的多个子组件之间供享状态（数据），这个时候我们就可以用Flutter中的状态管理来管理统一的状态（数据），实现不同组件之间的传值和数据共享。</p>
<p>现在Flutter的状态管理方案很多，redux、bloc、state、provider、Getx</p>
<p>provider是官方提供的状态管理解决方案，主要功能就是状态管理。Getx是第三方的状态管理插件，不仅具有状态管理的功能，还具有路由管理、主题管理、国际化多语言管理、Obx局部更新、网络请求、数据验证等功能，相比其他状态管理插件Geⅸ简单、功强大并且高性能。</p>
<h2 id="Flutter-Getx介绍"><a href="#Flutter-Getx介绍" class="headerlink" title="Flutter Getx介绍"></a>Flutter Getx介绍</h2><p>Getx以是Flutter上的一个轻量且强大的解决方案，Getx为我们提供了高性能的状态管理、智能的依赖注入和便捷的路由管理。<br><a target="_blank" rel="noopener" href="https://github.com/jonataslaw/getx/blob/master/README.zh-cn.md"> Getx 中文文档</a></p>
<ul>
<li><p>Getx以有3个基本原则：</p>
<ul>
<li>性能：Getx以专注于性能和最小资源消耗。Get以打包后的apk占用大小和运行时的内存占用与其他状态管理插件不相上下。</li>
<li>效率：Getx以的语法非常简捷，并保持了极高的性能，能极大缩短你的开发时长。</li>
<li>结构：Getx以可以将界面、逻辑、依赖和路由完全解耦，用起来更清爽，逻辑更清晰,代码更容易维护</li>
</ul>
</li>
<li><p>GetX并不臃肿，却很轻量。如果你只使用状态管理，只有状态管理模块会被编译，甚他没用到的东西都不会被编译到你的代码中。它拥有众多的功能，但这些功能都在独立的容器中，只有在使用后才会启动。</p>
</li>
<li><p>Getx有一个庞大的生态系统，能够在Android、iOS、Web、Mac、Linux、Windowsi和你的服务器上用同样的代码运行。通过GetServer可以在你的后端完全重用你在前端写的代码。</p>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">yjr-1100</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yjr-1100.github.io/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/">https://yjr-1100.github.io/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://yjr-1100.github.io" target="_blank">YJR-1100</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Dart/">Dart</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/11/09/Flutter%E5%AD%A6%E4%B9%A02/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Flutter学习（二）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/11/02/Dart%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A00/" title="Dart语言学习"><img class="cover" src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/Dart.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-02</div><div class="title">Dart语言学习</div></div></a></div><div><a href="/2022/11/06/Flutter%E5%AD%A6%E4%B9%A01/" title="Flutter学习（一）"><img class="cover" src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-06</div><div class="title">Flutter学习（一）</div></div></a></div><div><a href="/2022/11/05/Flutter%E5%AD%A6%E4%B9%A00/" title="Flutter学习（零）"><img class="cover" src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-05</div><div class="title">Flutter学习（零）</div></div></a></div><div><a href="/2022/11/09/Flutter%E5%AD%A6%E4%B9%A02/" title="Flutter学习（二）"><img class="cover" src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-09</div><div class="title">Flutter学习（二）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/mylogol2.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">yjr-1100</div><div class="author-info__description">一个俗人的博客</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">53</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yjr-1100"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/yjr-1100" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:jiaruiyang221@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">总要记些什么证明我来过</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%89%E7%8A%B6%E6%80%81%E7%9A%84%E7%BB%84%E4%BB%B6-StatefulWidget"><span class="toc-number">1.</span> <span class="toc-text">有状态的组件 StatefulWidget</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Scaffold-%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-number">2.</span> <span class="toc-text">Scaffold 组件属性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#bottomNavigationBar-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA"><span class="toc-number">2.1.</span> <span class="toc-text">bottomNavigationBar 自定义底部导航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#floatingActionButton-%E6%B5%AE%E5%8A%A8%E6%8C%89%E9%92%AE"><span class="toc-number">2.2.</span> <span class="toc-text">floatingActionButton  浮动按钮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Drawer%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-number">2.3.</span> <span class="toc-text">Drawer侧边栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AppBar%E9%A1%B6%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-number">2.4.</span> <span class="toc-text">AppBar顶部导航栏</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Flutter-%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="toc-number">3.</span> <span class="toc-text">Flutter 中的路由</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.</span> <span class="toc-text">普通路由的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">3.2.</span> <span class="toc-text">命名路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter%E8%BF%94%E5%9B%9E%E4%B8%8A%E4%B8%80%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">3.3.</span> <span class="toc-text">Flutter返回上一级路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter%E4%B8%AD%E6%9B%BF%E6%8D%A2%E8%B7%AF%E7%94%B1"><span class="toc-number">3.4.</span> <span class="toc-text">Flutter中替换路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter%E8%BF%94%E5%9B%9E%E5%88%B0%E6%A0%B9%E8%B7%AF%E7%94%B1"><span class="toc-number">3.5.</span> <span class="toc-text">Flutter返回到根路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%A0%B7%E9%A3%8E%E6%A0%BC%E7%9A%84%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC"><span class="toc-number">3.6.</span> <span class="toc-text">同样风格的路由跳转</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E4%B8%BB%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">全局配置主题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Dialog%E7%BB%84%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">Dialog组件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AD%A6%E5%91%8A%E5%BC%B9%E7%AA%97"><span class="toc-number">5.1.</span> <span class="toc-text">警告弹窗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%A1%86"><span class="toc-number">5.2.</span> <span class="toc-text">选择框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%95%E9%83%A8%E5%BC%B9%E7%AA%97"><span class="toc-number">5.3.</span> <span class="toc-text">底部弹窗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#fluttertoast-%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">5.4.</span> <span class="toc-text">fluttertoast 提示信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89Dialog"><span class="toc-number">5.5.</span> <span class="toc-text">自定义Dialog</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PageView%E7%BB%84%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">PageView组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Flutter-%E4%B8%AD%E7%9A%84-Key"><span class="toc-number">7.</span> <span class="toc-text">Flutter 中的 Key</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AnimatedList"><span class="toc-number">8.</span> <span class="toc-text">AnimatedList</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Flutter%E5%8A%A8%E7%94%BB"><span class="toc-number">9.</span> <span class="toc-text">Flutter动画</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E5%8F%8AFlutter%E5%8A%A8%E7%94%BB%E7%AE%80%E4%BB%8B"><span class="toc-number">9.1.</span> <span class="toc-text">动画基本原理及Flutter动画简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%8A%A8%E7%94%BB"><span class="toc-number">9.2.</span> <span class="toc-text">隐式动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hero%E5%8A%A8%E7%94%BB"><span class="toc-number">9.3.</span> <span class="toc-text">Hero动画</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Flutter-Getx"><span class="toc-number">10.</span> <span class="toc-text">Flutter Getx</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">10.1.</span> <span class="toc-text">状态管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter-Getx%E4%BB%8B%E7%BB%8D"><span class="toc-number">10.2.</span> <span class="toc-text">Flutter Getx介绍</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/" title="Fluter学习（三）"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Fluter学习（三）"/></a><div class="content"><a class="title" href="/2022/11/12/Flutter%E5%AD%A6%E4%B9%A03/" title="Fluter学习（三）">Fluter学习（三）</a><time datetime="2022-11-12T06:22:44.000Z" title="发表于 2022-11-12 14:22:44">2022-11-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/09/Flutter%E5%AD%A6%E4%B9%A02/" title="Flutter学习（二）"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter学习（二）"/></a><div class="content"><a class="title" href="/2022/11/09/Flutter%E5%AD%A6%E4%B9%A02/" title="Flutter学习（二）">Flutter学习（二）</a><time datetime="2022-11-09T00:17:07.000Z" title="发表于 2022-11-09 08:17:07">2022-11-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/06/Flutter%E5%AD%A6%E4%B9%A01/" title="Flutter学习（一）"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter学习（一）"/></a><div class="content"><a class="title" href="/2022/11/06/Flutter%E5%AD%A6%E4%B9%A01/" title="Flutter学习（一）">Flutter学习（一）</a><time datetime="2022-11-06T06:45:11.000Z" title="发表于 2022-11-06 14:45:11">2022-11-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/05/Flutter%E5%AD%A6%E4%B9%A00/" title="Flutter学习（零）"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/202211050912632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter学习（零）"/></a><div class="content"><a class="title" href="/2022/11/05/Flutter%E5%AD%A6%E4%B9%A00/" title="Flutter学习（零）">Flutter学习（零）</a><time datetime="2022-11-05T01:04:37.000Z" title="发表于 2022-11-05 09:04:37">2022-11-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/02/Dart%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A00/" title="Dart语言学习"><img src="https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/Dart.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Dart语言学习"/></a><div class="content"><a class="title" href="/2022/11/02/Dart%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A00/" title="Dart语言学习">Dart语言学习</a><time datetime="2022-11-02T02:06:58.000Z" title="发表于 2022-11-02 10:06:58">2022-11-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/yjr-1100/Photobag/githubioimg/background_4k.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2022 By yjr-1100</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">你好有缘人</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())

$('.yjr_wrap .yjr_menu').on('click',function (event) {
// 判断标签是否li
if (event.target.tagName === 'LI') {
  $tar =$(event.target)
  //获取子元素index
  var index =  $tar.parent().children().index($tar);
  $tar.parent().children().eq(index).addClass('yjr_itemSelected').siblings().removeClass('yjr_itemSelected')
  if(index==1){
      $tar.parent().parent().find('.yjr_code').attr('hidden',true)
      $tar.parent().parent().find('.yjr_effect').attr('hidden',false)
    }else{
        $tar.parent().parent().find('.yjr_code').attr('hidden',false)
      $tar.parent().parent().find('.yjr_effect').attr('hidden',true)
    }
  }
})</script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>